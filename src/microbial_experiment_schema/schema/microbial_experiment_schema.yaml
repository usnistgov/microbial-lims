# yaml-language-server: $schema=https://linkml.io/linkml-model/linkml_model/jsonschema/meta.schema.json
# notes:

# TODO: can we add elab groups to the slots?
---

id: https://w3id.org/usnistgov/microbial-experiment-schema
name: microbial-experiment-schema
title: Microbial Experiment Schema
version: "2024.09.04"
description: Metadata schemas for validation of ELN data entries as part of the Microbial LIMS project
license: NIST Public License
see_also:
  - https://mml-lims.***REMOVED***.nist.gov/microbial-experiment-schema

prefixes:
  microbial_experiment_schema: https://w3id.org/usnistgov/microbial-experiment-schema/
  linkml: https://w3id.org/linkml/
  schema: http://schema.org/
  qudt: http://qudt.org/schema/qudt/
default_prefix: microbial_experiment_schema
default_range: string

imports:
  - linkml:types

classes:

  Experiment:
    title: Experiment
    description: Holds information about a specific type of Microbial Strain experiment. The specific metadata for each type of experiment is controlled by "template data classes"
    tree_root: true
    abstract: true
    name: Experiment
    slots:
      - data_acquisition_date
      - elab_experiment
      - operator_id
      - project_id
      - template_name

  ExperimentWithData:
    title: Experiment with Data
    description: Holds information about a specific type of Microbial Strain experiment that results in the collection of data. The specific metadata for each type of experiment is controlled by "template data classes"
    abstract: true
    is_a: Experiment
    name: ExperimentWithData
    slots:
      - core_data_path
      - specific_data_path

  ExperimentWithInstrument:
    title: Experiment with Instrument
    description: Holds information about a specific type of Microbial Strain experiment that uses an instrument. The specific metadata for each type of experiment is controlled by "template data classes"
    abstract: true
    is_a: ExperimentWithData
    name: ExperimentWithInstrument
    slots:
      - instrument_id

  ExperimentWithInstrumentNoData:
    title: Experiment with Instrument and No Data
    description: Holds information about a specific type of Microbial Strain experiment that uses an instrument but does not collect data. The specific metadata for each type of experiment is controlled by "template data classes"
    abstract: true
    is_a: Experiment
    name: ExperimentWithInstrumentNoData
    slots:
      - instrument_id

  # definition of experiment template data classes
  CytoFLEXAcquisition:
    name: CytoFLEXAcquisition
    is_a: ExperimentWithInstrument
    title: CytoFLEX_Acquisition
    description: Metadata describing a data acquisition using the CytoFLEX instrument
    slots:
      - fc_acquisition_threshold_channel
      - fc_acquisition_threshold_value
      - fc_flow_rate_setting
      - fc_injection_mode
      - fixation_method
      - fluorescent_probe
      - incubation_agitation
      - incubation_atmosphere
      - incubation_duration
      - incubation_temperature
      - microbial_material_id
      - sample_purpose_codes
    slot_usage:
      template_name:
        range: CytoFLEXAcquisitionTemplateNameValue
  
  NucleicAcidExtraction:
    is_a: ExperimentWithInstrument
    title: NucleicAcidExtraction
    description: Metadata describing a nucleic acid extraction experiment
    slots:
      - kit_lot_number
      - microbial_material_id
      - nucleic_acid_type
      - sample_purpose_codes
    slot_usage:
      template_name:
        range: NucleicAcidExtractionTemplateNameValue
  
  CellCultureInBroth:
    is_a: Experiment
    title: Cell Culture in Broth
    description: Metadata describing a cell culture experiment
    slots:
      - growth_media_name
      - incubation_agitation
      - incubation_atmosphere
      - incubation_duration
      - incubation_temperature
      - microbial_material_id
      - sample_purpose_codes
    slot_usage:
      template_name:
        range: CellCultureInBrothTemplateNameValue

  CytoFLEXVolumeCalibration:
    is_a: ExperimentWithInstrumentNoData
    title: CytoFLEX_VolumeCalibration
    description: Metadata describing a volume calibration using the CytoFLEX instrument
    slots:
      - fc_flow_rate_setting
      - fc_injection_mode
      - passed_volume_calibration
      - percent_volume_deviation
    slot_usage:
      template_name:
        range: CytoFLEXVolumeCalibrationTemplateNameValue

  GenericTemplateDeprecated:
    is_a: ExperimentWithInstrument
    title: GenericTemplate_Deprecated
    abstract: true
    description: A retired version of a generic experiment template used to create other templates
    deprecated: (2024 June) this is no longer used, use GenericTemplate instead
    deprecated_element_has_exact_replacement: GenericTemplate
    slots:
      - acquisition_time
      - acquisition_volume
      - bead_lot_number_concentration_qc
      - bead_lot_number_size_qc
      - cell_volume
      - cfu_method
      - coulter_aperture_size
      - diluent_name
      - diluent_volume
      - error_flag
      - fc_acquisition_count_target
      - fc_acquisition_threshold_channel
      - fc_acquisition_threshold_value
      - fc_flow_rate_setting
      - fc_fluorescent_channels
      - fc_injection_mode
      - fixation_method
      - fluorescent_probe
      - growth_duration
      - growth_media_name
      - incubation_agitation
      - incubation_atmosphere
      - incubation_duration
      - incubation_temperature
      - kit_lot_number
      - labcas_data_acquisition_date
      - labcas_instrument
      - labcas_microbial_material_id
      - labcas_operator
      - labcas_project
      - library_prep
      - microbial_material_id
      - nucleic_acid_type
      - objective
      - qc_reagent_lot_number
      - sample_purpose_codes
      - transmission_mode

  FormaldehydeFixation:
    is_a: Experiment
    name: FormaldehydeFixation
    title: FormaldehydeFixation
    description: Metadata describing a formaldehyde fixation experiment
    slots:
      - fixation_method
      - incubation_agitation
      - incubation_atmosphere
      - incubation_duration
      - incubation_temperature
      - microbial_material_id
      - sample_purpose_codes
    slot_usage:
      template_name:
        range: FormaldehydeFixationTemplateNameValue

  MicroscopyAcquisition:
    is_a: ExperimentWithInstrument
    name: MicroscopyAcquisition
    description: Metadata describing a microscopy acquisition experiment
    title: Microscopy_Acquisition
    slots:
      - fixation_method
      - fluorescent_probe
      - incubation_agitation
      - incubation_atmosphere
      - incubation_duration
      - incubation_temperature
      - microbial_material_id
      - modalities
      - objective
      - sample_purpose_codes
      - series_image_types
      - series_images
      - single_images
    slot_usage:
      template_name:
        range: MicroscopyAcquisitionTemplateNameValue

  GenericTemplate:
    is_a: ExperimentWithInstrument
    name: GenericTemplate
    abstract: true
    title: GenericTemplate
    description: A generic experiment template used to help create more specific experiment templates. This template should not be used directly.
    slots:
      - cfu_method
      - fc_acquisition_threshold_channel
      - fc_acquisition_threshold_value
      - fc_flow_rate_setting
      - fc_injection_mode
      - fixation_method
      - fluorescent_probe
      - growth_media_name
      - incubation_agitation
      - incubation_atmosphere
      - incubation_duration
      - incubation_temperature
      - kit_lot_number
      - library_prep
      - microbial_material_id
      - modalities
      - nucleic_acid_type
      - objective
      - passed_volume_calibration
      - percent_volume_deviation
      - sample_purpose_codes
      - series_image_types
      - series_images
      - single_images
  
  CoulterAcquisition:
    is_a: ExperimentWithInstrument
    title: Coulter_Acquisition
    description: Metadata describing a Coulter counter acquisition experiment
    slots:
      - fixation_method
      - microbial_material_id
      - sample_purpose_codes
    slot_usage:
      template_name:
        range: CoulterAcquisitionTemplateNameValue

  BactoBoxAcquisition:
    is_a: ExperimentWithInstrument
    title: BactoBox_Acquisition
    description: Metadata describing a data acquisition experiment using the BactoBox
    slots:
      - fixation_method
      - microbial_material_id
      - sample_purpose_codes
    slot_usage:
      template_name:
        range: BactoBoxAcquisitionTemplateNameValue

  LogCOMETSamplePrep:
    is_a: Experiment
    title: LogCOMET_SamplePrep
    description: Metadata describing a sample preparation process for a LOGComet experiment
    slots:
      - fixation_method
      # - incubation_agitation
      # - incubation_atmosphere
      # - incubation_duration
      # - incubation_temperature
      - microbial_material_id
      - sample_purpose_codes
    slot_usage:
      template_name:
        range: LogCOMETSamplePrepTemplateNameValue

  CFU:
    is_a: ExperimentWithData
    name: CFU
    title: CFU
    description: Metadata describing a colony forming unit counting experiment
    slots:
      - cfu_method
      - fixation_method
      - growth_media_name
      - incubation_atmosphere
      - incubation_duration
      - incubation_temperature
      - microbial_material_id
      - sample_purpose_codes
    slot_usage:
      template_name:
        range: CFUTemplateNameValue

  DifcoAmendedSporulationAgarProtocol:
    is_a: Experiment
    title: Difco Amended Sporulation Agar (ASA) Protocol
    description: Metadata describing the preparation process for amended sporulation agar
    slot_usage:
      template_name:
        range: DifcoAmendedSporulationAgarProtocolTemplateNameValue

  InitiateGrowthOfBSpizizenii:
    is_a: Experiment
    title: Initiate Growth of B. spizizenii
    description: Metadata describing an initiate growth experiment of B. spizizenii
    slots:
      - growth_media_name
      - incubation_agitation
      - incubation_atmosphere
      - incubation_duration
      - incubation_temperature
      - microbial_material_id
      - sample_purpose_codes
    slot_usage:
      template_name:
        range: InitiateGrowthOfBSpizizeniiTemplateNameValue

  SlideCleaning:
    is_a: Experiment
    name: SlideCleaning
    description: Metadata describing an experiment preparing microscopy slides for microbial work
    title: SlideCleaning
    slot_usage:
      template_name:
        range: SlideCleaningTemplateNameValue

  # base data-holding classes:
  BooleanValue:
    title: Boolean Value
    description: A class to hold a boolean value
    slots:
      - value
    slot_usage:
      value:
        range: boolean
  NumberValue:
    title: Number Value
    description: A class to hold a numerical value with a free-text string as a unit
    slots:
      - value
      - unit
    slot_usage:
      value:
        range: decimal
      unit:
        range: string
        required: false
  StringValue:
    title: String Value
    description: A class to hold a string value
    slots:
      - value
    slot_usage:
      value:
        range: string
  UriValue:
    title: Uri Value
    description: A class to hold a string value that is a URI
    slots:
      - value
    slot_usage:
      value:
        range: uri
  DateValue:
    title: Date Value
    description: A class to hold a date value
    slots:
      - value
    slot_usage:
      value:
        range: date
  ArrayValue:
    title: Array Value
    description: A class to hold an array of values
    slots:
      - value
    slot_usage:
      value:
        multivalued: true
        inlined: false
  ELabItemValue:
    title: ELabFTW Item Value
    description: A class to hold a reference to an item record in ELabFTW
    slots:
      - value
    slot_usage:
      value:
        range: ELabItem
        inlined: true
  VolumeValue:
    title: Volume Value
    description: A class to hold a numerical value representing a volumetric measurement
    is_a: NumberValue
    slot_usage:
      unit:
        range: VolumeUnitEnum
        description: The volume unit corresponding to a metadata value
        required: true
  LengthValue:
    title: Length Value
    description: A class to hold a numerical value representing a linear measurement
    is_a: NumberValue
    slot_usage:
      unit:
        range: LengthUnitEnum
        description: The length unit corresponding to a metadata value
        required: true
  DurationValue:
    title: Duration Value
    description: A class to hold a numerical value representing a time duration measurement
    is_a: NumberValue
    slot_usage:
      unit:
        range: DurationUnitEnum
        description: The time duration unit corresponding to a metadata value
        required: true
  TemperatureValue:
    title: Temperature Value
    description: A class to hold a numerical value representing a temperature measurement
    is_a: NumberValue
    slot_usage:
      unit:
        range: TemperatureUnitEnum
        description: The temperature unit corresponding to a metadata value
        required: true
  CountValue:
    title: Count Value
    description: A class to hold a numerical value representing a counting measurement
    is_a: NumberValue
    slot_usage:
      unit:
        range: CountUnitEnum
        description: The count unit corresponding to a metadata value
        required: true
  FlowRateValue:
    title: Flow Rate Value
    description: A class to hold a numerical value representing a flow rate measurement
    is_a: NumberValue
    slot_usage:
      unit:
        range: FlowRateUnitEnum
        description: The flow rate unit corresponding to a metadata value
        required: true
  AgitationValue:
    title: Agitation Value
    description: A class to hold a numerical value representing an agitation speed
    is_a: NumberValue
    slot_usage:
      unit:
        range: AgitationEnum
        description: The agitation speed unit corresponding to a metadata value
        required: true
  UnitlessValue:
    title: Unitless Value
    description: A class to hold an explicitly unitless numerical value
    is_a: NumberValue
    slot_usage:
      unit:
        range: UnitlessEnum
        description: The word "Unitless" corresponding to a unitless metadata value
        required: true

  # defining ELabItem, ELabExperiment, and ELabUser links:
  ELabRecord:
    abstract: true
    title: ELabFTW Record
    description: An abstract data type representing a link to an record (experiment or resource/item) in an eLabFTW instance. Use one of the ELabItem or ELabRecord classes that implement this one rather than using it directly.
    slots:
      - status_title
    attributes:
      id:
        title: id
        identifier: true
        description: The integer identifier for this item used by this eLabFTW instance
        range: integer
        required: true
      elabid:
        title: eLabID
        description: The unique "eLabID" for this item
        range: string
        required: true
      url:
        title: url
        description: A (resolvable) URL for accessing this item via a web browser
        range: uri
        required: true
      api_url:
        title: API url
        description: A URL for accessing this item via the eLabFTW API
        range: uri
        required: true
      title:
        title: Title
        description: A short description of this item
        range: string
        required: true
      category_title:
        title: Category Title
        description: The name of the category for this item (called an "item type") in eLabFTW
        required: true

  ELabItem:
    is_a: ELabRecord
    title: ELabFTW Item
    description: A class to hold metadata sufficient to reference a resource (database item) record in an ELabFTW instance.
    attributes:
      type:
        title: Type
        description: Whether this item is a resource (database item) or an experiment
        range: ELabItemType
        required: true
    slot_usage:
      status_title:
        required: false

  ELabExperiment:
    is_a: ELabRecord
    title: ELabFTW Experiment
    description: A class to hold metadata sufficient to reference an experiment record in an ELabFTW instance.
    attributes:
      type:
        title: Type
        description: Whether this item is a resource (database item) or an experiment
        range: ELabExperimentType
        required: true
  
  ELabUser:
    title: ELabFTW User
    description: A data type representing a link to a user in an eLabFTW instance
    attributes:
      userid:
        title: User ID
        identifier: true
        description: The "local" identifier number for this user in the eLabFTW instance
        range: integer
        required: true
      first_name:
        title: First Name
        description: The user's first (given) name
        required: true
      last_name:
        title: Last Name
        description: The user's last name (surname)
        required: true
      email:
        title: Email
        description: The user's email address
        pattern: ^\S+@[\S+\.]+\S+
        required: true
      base_url:
        title: ELabFTW Base URL
        description: The URL of the ELabFTW instance in which the user is registered
        range: uri
        required: true
      orcid:
        title: ORCID
        description: The user's ORCID (if defined)
        range: string
        required: false
        pattern: ^\d{4}-\d{4}-\d{4}-\d{3}(\d|X)$
  
  # definition of specific value override classes
  CFUMethodValue:
    title: CFU Method Value
    is_a: ArrayValue
    description: An override of ArrayValue allowing only values from the CFUMethodEnum enum
    slot_usage:
      value:
        range: CFUMethodEnum
        description: Describes deposition format of cells on agar plate

  FCInjectionModeValue:
    title: Flow Cytometry Injection Mode Value
    is_a: StringValue
    description: An override of StringValue allowing only values from the FCInjectionModeEnum enum
    attributes:
      value:
        description: The value attribute for FCInjectionMode
        range: FCInjectionModeEnum

  FixationMethodValue:
    title: Fixation Method Value
    is_a: ArrayValue
    description: An override of ArrayValue allowing only values from the FixationMethodEnum enum
    slot_usage:
      value:
        description: The value attribute for FixationMethod
        range: FixationMethodEnum

  FluorescentProbeValue:
    title: Fluorescent Probe Value
    is_a: ArrayValue
    description: An override of ArrayValue allowing only ELabItem values
    slot_usage:
      value:
        description: The value attribute for FluorescentProbe
        range: ELabItem
        inlined: true
        inlined_as_list: true
  
  IncubationAtmosphereValue:
    title: Incubation Atmosphere Value
    is_a: StringValue
    description: An override of StringValue allowing only values from the IncubationAtmosphereEnum enum
    attributes:
      value:
        range: IncubationAtmosphereEnum

  InstrumentIDValue:
    title: Instrument ID Value
    is_a: ELabItemValue
    description: A named sub-class of ELabItemValue to hold an instrument identifier value

  LabCASInstrumentValue:
    deprecated: (2024 June) this is too specific, use InstrumentIDValue instead
    deprecated_element_has_exact_replacement: InstrumentIDValue
    is_a: ELabItemValue
    title: LabCAS-InstrumentValue
    description: A named sub-class of ELabItemValue to hold the instrument identifier

  LabCASMicrobialMaterialIDValue:
    deprecated: (2024 June) this is too specific, use MicrobialMaterialIDValue instead
    deprecated_element_has_exact_replacement: MicrobialMaterialIDValue
    is_a: ArrayValue
    title: LabCAS-MicrobialMaterialIDValue
    description: A named sub-class of ArrayValue to hold a list of microbial material links
    slot_usage:
      value:
        range: ELabItem
        inlined: true
        inlined_as_list: true

  LabCASOperatorValue:
    deprecated: (2024 June) this is too specific, use OperatorIDValue instead
    deprecated_element_has_exact_replacement: OperatorIDValue
    title: LabCAS-OperatorValue
    description: A named sub-class of ELabItemValue to hold the operator identifier
    is_a: ELabItemValue
  
  LabCASProjectValue:
    deprecated: (2024 June) this is too specific, use ProjectIDValue instead
    deprecated_element_has_exact_replacement: ProjectIDValue
    is_a: ELabItemValue
    title: LabCAS-ProjectValue
    description: A named sub-class of ELabItemValue to hold the project identifier

  MicrobialMaterialIDValue:
    title: Microbial Material ID Value
    is_a: ArrayValue
    description: A named sub-class of ArrayValue to hold a list of microbial material links
    slot_usage:
      value:
        range: ELabItem
        inlined: true
        inlined_as_list: true

  ModalitiesValue:
    title: Modalities Value
    is_a: ArrayValue
    description: A named sub-class of ArrayValue to hold a list of modality types
    slot_usage:
      value:
        range: MicroscopyModalitiesEnum
  
  NucleicAcidTypeValue:
    title: Nucleic Acid Type Value
    is_a: StringValue
    description: An override of StringValue allowing only a value from the NucleicAcidTypeEnum enum
    slot_usage:
      value:
        range: NucleicAcidTypeEnum

  ObjectivesValue:
    title: Objectives Value
    is_a: ArrayValue
    description: An override of ArrayValue allowing only values from the ObjectivesEnum enum
    slot_usage:
      value:
        range: ObjectivesEnum
  
  OperatorIDValue:
    title: Operator ID Value
    is_a: ELabItemValue
    description: A named sub-class of ELabItemValue to hold an operator identifier value

  ProjectIDValue:
    title: Project ID Value
    is_a: ELabItemValue
    description: A named sub-class of ELabItemValue to hold a project identifier value

  SamplePurposeCodesValue:
    title: Sample Purpose Codes Value
    is_a: ArrayValue
    description: An override of ArrayValue allowing only values from the SamplePurposeCodeEnum enum
    slot_usage:
      value:
        range: SamplePurposeCodeEnum
  
  SeriesImageTypesValue:
    title: Series Image Types Value
    is_a: ArrayValue
    description: An override of ArrayValue allowing only values from the ImageTypeEnum enum
    slot_usage:
      value:
        range: ImageTypeEnum
 
  # specific overrides for template name values

  CytoFLEXAcquisitionTemplateNameValue:
    title: CytoFLEX Acquisition Template Name Value
    is_a: StringValue
    description: An override of StringValue specified an allowed value for the template_name for a CytoFLEX_Acquisition experiment
    slot_usage:
      value:
        range: string
        pattern: "^CytoFLEX_Acquisition$"
        required: true
  NucleicAcidExtractionTemplateNameValue:
    title: Nucleic Acid Extraction Template Name Value
    is_a: StringValue
    description: An override of StringValue specified an allowed value for the template_name for a Nucleic Acid Extraction experiment
    slot_usage:
      value:
        range: string
        pattern: "^Nucleic Acid Extraction$"
        required: true
  CellCultureInBrothTemplateNameValue:
    title: Cell Culture In Broth Template Name Value
    is_a: StringValue
    description: An override of StringValue specified an allowed value for the template_name for a Cell Culture in Broth experiment
    slot_usage:
      value:
        range: string
        pattern: "^Cell Culture in Broth$"
        required: true
  CytoFLEXVolumeCalibrationTemplateNameValue:
    title: CytoFLEX Volume Calibration Template Name Value
    is_a: StringValue
    description: An override of StringValue specified an allowed value for the template_name for a CytoFLEX_VolumeCalibration experiment
    slot_usage:
      value:
        range: string
        pattern: "^CytoFLEX_VolumeCalibration$"
        required: true
  FormaldehydeFixationTemplateNameValue:
    title: Formaldehyde Fixation Template Name Value
    is_a: StringValue
    description: An override of StringValue specified an allowed value for the template_name for a FormaldehydeFixation experiment
    slot_usage:
      value:
        range: string
        pattern: "^FormaldehydeFixation$"
        required: true
  MicroscopyAcquisitionTemplateNameValue:
    title: Microscopy Acquisition Template Name Value
    is_a: StringValue
    description: An override of StringValue specified an allowed value for the template_name for a Microscopy_Acquisition experiment
    slot_usage:
      value:
        range: string
        pattern: "^Microscopy_Acquisition$"
        required: true
  CoulterAcquisitionTemplateNameValue:
    title: Coulter Acquisition Template Name Value
    is_a: StringValue
    description: An override of StringValue specified an allowed value for the template_name for a Coulter_Acquisition experiment
    slot_usage:
      value:
        range: string
        pattern: "^Coulter_Acquisition$"
        required: true
  BactoBoxAcquisitionTemplateNameValue:
    title: BactoBox Acquisition Template Name Value
    is_a: StringValue
    description: An override of StringValue specified an allowed value for the template_name for a BactoBox_Acquisition experiment
    slot_usage:
      value:
        range: string
        pattern: "BactoBox_Acquisition$"
        required: true
  LogCOMETSamplePrepTemplateNameValue:
    title: LogCOMET Sample Prep Template Name Value
    is_a: StringValue
    description: An override of StringValue specified an allowed value for the template_name for a LogCOMET_SamplePrep experiment
    slot_usage:
      value:
        range: string
        pattern: "^LogCOMET_SamplePrep$"
        required: true
  CFUTemplateNameValue:
    title: CFU Template Name Value
    is_a: StringValue
    description: An override of StringValue specified an allowed value for the template_name for a CFU experiment
    slot_usage:
      value:
        range: string
        pattern: "^CFU$"
        required: true
  DifcoAmendedSporulationAgarProtocolTemplateNameValue:
    title: Difco Amended Sporulation Agar Protocol Template Name Value
    is_a: StringValue
    description: An override of StringValue specified an allowed value for the template_name for a Difco Amended Sporulation Agar Protocol experiment
    slot_usage:
      value:
        range: string
        pattern: "^Difco Amended Sporulation Agar Protocol$"
        required: true
  InitiateGrowthOfBSpizizeniiTemplateNameValue:
    title: Initiate Growth of B spizizenii Template Name Value
    is_a: StringValue
    description: An override of StringValue specified an allowed value for the template_name for a Initiate Growth of B spizizenii experiment
    slot_usage:
      value:
        range: string
        pattern: "^Initiate Growth of B spizizenii$"
        required: true
  SlideCleaningTemplateNameValue:
    title: Slide Cleaning Template Name Value
    is_a: StringValue
    description: An override of StringValue specified an allowed value for the template_name for a SlideCleaning experiment
    slot_usage:
      value:
        range: string
        pattern: "^SlideCleaning$"
        required: true
  
  TransmissionModeValue:
    title: Transmission Mode Value
    deprecated: (2024 June) this is too specific, use ModalitiesValue instead
    deprecated_element_has_exact_replacement: ModalitiesValue
    is_a: ArrayValue
    description: An override of ArrayValue allowing only values from the TransmissionModeEnum enum
    slot_usage:
      value:
        range: TransmissionModeEnum    

slots:
  value:
    title: value
    required: true
    description: The actual metadata value for an attribute

  unit:
    title: unit
    required: true
    description: The unit corresponding to a metadata value

  acquisition_time:
    title: AcquisitionTime
    range: DurationValue
    description: Data acquisition time as set by instrument
    deprecated: (2024 June) unnecessary and unused
    required: false

  acquisition_volume:
    title: AcquisitionVolume
    range: VolumeValue
    description: Data acquisition volume as set by instrument
    deprecated: (2024 June) unnecessary and unused
    required: false

  bead_lot_number_concentration_qc:
    title: BeadLotNumber_ConcentrationQC
    range: StringValue
    description: Lot number of beads used for quality control of concentration measurements
    deprecated: (2024 June) unnecessary and unused
    required: false

  bead_lot_number_size_qc:
    title: BeadLotNumber_SizeQC
    range: StringValue
    description: Lot number of beads used for quality control of size measurements
    deprecated: (2024 June) unnecessary and unused
    required: false

  cell_volume:
    title: CellVolume
    range: VolumeValue
    description: Volume of cell stock added to acquisition vessel
    deprecated: (2024 June) unnecessary and unused
    required: false

  cfu_method:
    title: CFUMethod
    range: CFUMethodValue
    description: Describes deposition format of cells on agar plate
    required: false
    
  core_data_path:
    title: CoreDataPath
    required: true
    range: UriValue
    description: Portion of the data pathway that will not change as the template is used to generate experimental records (should be network-resolvable)

  coulter_aperture_size:
    title: CoulterApertureSize
    description: Aperture installed on Coulter counter during measurement
    range: LengthValue
    deprecated: (2024 June) unnecessary and unused
    required: false

  data_acquisition_date:
    title: DataAcquisitionDate
    required: true
    range: DateValue
    description: Date on which data were acquired according to eLabFTW record

  diluent_name:
    title: DiluentName
    range: ELabItemValue
    description: Which diluent was used to suspend cells for acquisition (linked item)
    deprecated: (2024 June) unnecessary and unused
    required: false

  diluent_volume:
    title: DiluentVolume
    range: VolumeValue
    description: Volume of diluent added to acquisition vessel
    deprecated: (2024 June) unnecessary and unused
    required: false

  elab_experiment:
    title: ELabFTW Experiment
    description: A self-reference to this experiment record
    required: true
    range: ELabExperiment
    inlined_as_list: true

  error_flag:
    title: ErrorFlag
    range: BooleanValue
    description: Indicates if a known error appears in the dataset
    deprecated: (2024 June) unnecessary and unused
    required: false

  fc_acquisition_count_target:
    title: FCAcquisitionCountTarget
    range: CountValue
    description: Set number of events to acquire in a particular gate on flow cytometer
    deprecated: (2024 June) unnecessary and unused
    required: false

  fc_acquisition_threshold_channel:
    title: FCAcquisitionThresholdChannel
    range: StringValue
    description: Which channel as named by the manufacturer was used to threshold the data acquisition
    required: false

  fc_acquisition_threshold_value:
    title: FCAcquisitionThresholdValue
    range: NumberValue
    description: Threshold value in arbitrary units that defines the lower limit of data acquisition in flow cytometry
    required: false

  fc_fluorescent_channels:
    title: FCFluorescentChannels
    range: StringValue
    description: List of fluorescent channels acquired during a flow cytometry experiment as named by the manufacturer (separated by semicolons)
    deprecated: (2024 June) unnecessary and unused
    required: false

  fc_flow_rate_setting:
    title: FCFlowRateSetting
    range: FlowRateValue
    description: Set flow rate of data acquisition on flow cytometer
    required: false

  fc_injection_mode:
    title: FCInjectionMode
    range: FCInjectionModeValue
    description: Sample acquisition format in flow cytometer
    required: false

  fixation_method:
    title: FixationMethod
    description: Specific treatment applied to cells to prevent future changes
    range: FixationMethodValue
    required: false
  
  fluorescent_probe:
    title: FluorescentProbe
    description: Fluorescent probe(s) used in the experiment as (linked item(s) from ELabFTW)
    range: FluorescentProbeValue
    required: false

  growth_duration:
    title: GrowthDuration
    description: Time that cells were incubated to encourage growth
    range: DurationValue
    deprecated: (2024 June) unnecessary and unused
    required: false

  growth_media_name:
    title: GrowthMediaName
    description: Name of media used to culture cells (linked item from ELabFTW)
    range: ELabItemValue
    required: false

  incubation_agitation:
    title: IncubationAgitation
    description: Speed of agitation that cells were incubated during an experiment
    range: AgitationValue
    required: false

  incubation_atmosphere:
    title: IncubationAtmosphere
    description: Atmosphere that cells were incubated in to encourage growth
    range: IncubationAtmosphereValue
    required: false

  incubation_duration:
    title: IncubationDuration
    description: Length of time that cells were incubated during an experiment
    range: DurationValue
    required: false

  incubation_temperature:
    title: IncubationTemperature
    description: Temperature at which cells were incubated during an experiment or culture
    range: TemperatureValue
    required: false
  
  instrument_id:
    title: InstrumentID
    description: The instrument used to acquire the data in an experiment (linked item from ELabFTW)
    range: ELabItemValue
    required: false

  kit_lot_number:
    title: KitLotNumber
    description: The lot number of any relevant kits (linked item from ELabFTW)
    range: ELabItemValue
    required: false

  labcas_data_acquisition_date:
    title: LabCAS-DataAcquisitionDate
    description: Date on which data were acquired according to eLabFTW record
    deprecated: (2024 June) this is too specific, use data_acquisition_date instead
    deprecated_element_has_exact_replacement: data_acquisition_date
    range: DateValue
    required: false

  labcas_instrument:
    title: LabCAS-Instrument
    description: Date on which data were acquired according to eLabFTW record
    deprecated: (2024 June) this is too specific, use instrument_id instead
    deprecated_element_has_exact_replacement: instrument_id
    range: LabCASInstrumentValue
    required: false

  labcas_microbial_material_id:
    title: LabCAS-MicrobialMaterialID
    description: Cell material(s) used in experiment as named in the eLabFTW database (linked items)
    deprecated: (2024 June) this is too specific, use microbial_material_id instead
    deprecated_element_has_exact_replacement: microbial_material_id
    range: LabCASMicrobialMaterialIDValue
    required: false

  labcas_operator:
    title: LabCAS-Operator
    description: Instrument operator during an experiment (a linked item from ELabFTW)
    deprecated: (2024 June) this is too specific, use operator_id instead
    deprecated_element_has_exact_replacement: operator_id
    range: LabCASOperatorValue
    required: false

  labcas_project:
    title: LabCAS-Project
    description: The project that an experiment supports (link to an ELabFTW item)
    deprecated: (2024 June) this is too specific, use project_id instead
    deprecated_element_has_exact_replacement: project_id
    range: LabCASProjectValue
    required: false

  library_prep:
    title: LibraryPrep
    description: The name of a specific kit used for sequencing preparation steps
    range: StringValue
    required: false

  microbial_material_id:
    title: MicrobialMaterialID
    description: Cell material(s) used in experiment as named in the eLabFTW database (linked items)
    range: MicrobialMaterialIDValue
    required: false

  modalities:
    title: Modalities
    description: The type (modality) of a microscopy acquisition experiment
    range: ModalitiesValue
    required: false

  nucleic_acid_type:
    title: NucleicAcidType
    description: The type of nucleic acid used in an extraction experiment
    range: NucleicAcidTypeValue
    required: false

  objective:
    title: Objective
    description: The microscope objectives used in a microscopy acquisition experiment
    range: ObjectivesValue
    required: false

  operator_id:
    title: OperatorID
    description: Instrument operator during an experiment (a linked item from ELabFTW)
    range: OperatorIDValue
    required: true

  passed_volume_calibration:
    title: PassedVolumeCalibration
    description: (?) The volume that is passed during a volume calibration
    range: BooleanValue
    required: false
    todos:
      - double check description

  percent_volume_deviation:
    title: PercentVolumeDeviation
    description: The volume deviation (measured volume divided by target volume) from a calibration experiment
    range: UnitlessValue
    required: false
  
  project_id:
    title: ProjectID
    description: The project that an experiment supports (link to an ELabFTW item)
    range: ELabItemValue
    required: true

  qc_reagent_lot_number:
    title: QCReagentLotNumber
    description: The lot number for a QC reagent (link to an ELabFTW item)
    deprecated: (2024 June) this metadata term was determined to be unneeded, do not use
    range: StringValue
    required: false

  sample_purpose_codes:
    title: SamplePurposeCodes
    description: The types of samples acquired in an experiment (from a controlled list)
    range: SamplePurposeCodesValue
    required: false

  series_image_types:
    title: SeriesImageTypes
    description: The types of series images acquired in an experiment
    range: SeriesImageTypesValue
    required: false

  series_images:
    title: SeriesImages
    description: Whether series images were acquired in an experiment
    range: BooleanValue
    required: false

  single_images:
    title: SingleImages
    description: Whether single images were acquired in an experiment
    range: BooleanValue
    required: false

  specific_data_path:
    title: SpecificDataPath
    required: true
    description: Portion of the data pathway specific to data from a given experimental record (should be a sub-path of the location specified by `CoreDataPath`)
    range: UriValue

  status_title:
    title: StatusTitle
    description: The status title of an ELabFTW resource
    required: true

  template_name:
    title: TemplateName
    required: true
    description: The name of the template used to collect metadata for an experiment in ELabFTW. This value controls what specific metadata fields are allowed.
    range: StringValue

  transmission_mode:
    title: TransmissionMode
    description: The type (modality) of a microscopy acquisition experiment
    deprecated: (2024 June) this is too specific, use modalities instead
    deprecated_element_has_exact_replacement: modalities
    range: TransmissionModeValue
    required: false

# optional: schema type extensions
# types:
  # AgeType:
  #  ...

# enumerations
# NOTE: the `name`` of the enum's permissible_values should be "snake_case", and the
#       `title` for each value should be the value entered into a metadata form when
#       creating an ELab record
enums:
  ELabItemType:
    title: ELabFTW Item Type
    description: Allowed record type value for an ELabFTW item/resource
    permissible_values:
      items:
        description: An ELabFTW item/resource record
  ELabExperimentType:
    title: ELabFTW Experiment Type
    description: Allowed record type value for an ELabFTW experiment
    permissible_values:
      experiments:
        description: An ELabFTW experiment record
  DurationUnitEnum:
    title: Duration Unit Enum
    description: Allowed time duration unit type values
    permissible_values:
      sec:
        description: seconds
        exact_mappings:
          - qudt:SEC
      hr:
        description: hours
        exact_mappings:
          - qudt:HR
      min:
        description: minutes
        exact_mappings:
          - qudt:MIN
  VolumeUnitEnum:
    title: Volume Unit Enum
    description: Allowed volume unit type values
    permissible_values:
      mL:
        description: milliliters
        exact_mappings:
          - qudt:MilliL
      µL:
        description: microliters
        exact_mappings:
          - qudt:microL
  LengthUnitEnum:
    title: Length Unit Enum
    description: Allowed linear length unit type values
    permissible_values:
      µm:
        description: micrometers
        exact_mappings:
          - qudt:MilliM
  CountUnitEnum:
    title: Count Unit Enum
    description: Allowed count unit type values
    permissible_values:
      events:
        description: event count
  FlowRateUnitEnum:
    title: Flow Rate Unit Enum
    description: Allowed flow rate unit type values
    permissible_values:
      µL/min:
        description: microliters per minute
  CFUMethodEnum:
    title: CFU Method Enum
    description: Allowed colony forming unit count method values
    permissible_values:
      Plate spread:
        description: a plate spread
      Drip plate:
        description: a drip plate
      Spiral plater:
        description: a spiral plater
      Droplet:
        description: a droplet
      Other:
        description: all other CFU methods
  FCInjectionModeEnum:
    title: Flow Cytometry Injection Mode Enum
    description: Allowed flow cytometry injection mode values
    permissible_values:
      Plate:
        description: plate
      Tube:
        description: tube
      NA:
        description: not applicable
  FixationMethodEnum:
    title: Fixation Method Enum
    description: Allowed fixation method values
    permissible_values:
      Formaldehyde:
        description: formaldehyde fixation
      Heat:
        description: heat fixation
      Ethanol:
        description: ethanol fixation
      None:
        description: no fixation performed
        title: No Fixation
  AgitationEnum:
    title: Agitation Enum
    description: Allowed agitation speed unit type values
    permissible_values:
      rpm:
        description: revolutions per minute
      x g:
        description: x g
        todos:
          - Get better description of this value
  IncubationAtmosphereEnum:
    title: Incubation Atmosphere Enum
    description: Allowed cell incubation atmosphere values
    permissible_values:
      Atmospheric:
        description: atmospheric conditions
      Atmospheric + 5% CO2:
        description: atmospheric conditions with 5% carbon dioxide
      Anaerobic:
        description: anaerobic conditions
  TemperatureUnitEnum:
    title: Temperature Unit Enum
    description: Allowed temperature unit type values
    permissible_values:
      oC:
        description: degrees celsius
        title: °C
        exact_mappings:
          - qudt:DEG_C
      oF:
        description: degrees fahrenheit
        title: °F
        exact_mappings:
          - qudt:DEG_F
  MicroscopyModalitiesEnum:
    title: Microscopy Modalities Enum
    description: Allowed microscopy modality values
    permissible_values:
      DIC:
        description: Digital image correlation
      Brightfield:
        description: Bright field imaging
      Phase Contrast:
        description: Phase contrast imaging
  NucleicAcidTypeEnum:
    title: Nucleic Acid Type Enum
    description: Allowed nucleic acid type values
    permissible_values:
      RNA:
        description: Ribonucleic acid
      DNA:
        description: Deoxyribonucleic acid
  ObjectivesEnum:
    title: Objectives Enum
    description: Allowed microscopy objective values
    permissible_values:
      4X:
        description: 4 times magnification
      10X:
        description: 10 times magnification
      20X:
        description: 20 times magnification
      40X oil:
        description: 40 times magnification with oil immersion
      60X oil:
        description: 60 times magnification with oil immersion
      60X water:
        description: 60 times magnification with water immersion
      100X oil:
        description: 100 times magnification with oil immersion
  UnitlessEnum:
    title: Unitless Enum
    description: Allowed value for "unitless" numerical values
    permissible_values:
      Unitless:
        description: An explicitly unitless value
  SamplePurposeCodeEnum:
    title: Sample Purpose Code Enum
    description: Allowed sample purpose code values
    permissible_values:
      Positive control:
        description: Positive control
      Negative control: 
        description: Negative control
      Reference cell:
        description: Reference cell
      Reference fluorescence:
        description: Reference for fluorescence
      Reference scattering:
        description: Reference for scattering
      Reference size:
        description: Reference for size
      Reference concentration:
        description: Reference for concentration
      Quality control:
        description: Quality control
      Compensation control:
        description: Compensation control
      Test:
        description: A test sample
      Other:
        description: All other sample purposes
  ImageTypeEnum:
    title: Image Type Enum
    description: Allowed microscopy image type values
    permissible_values:
      Time lapse:
        description: Time lapse imagery
      Area scan:
        description: A scan of an area
      z stack:
        description: Z (focal) stack
      NA:
        description: Not applicable
  TransmissionModeEnum:
    title: Transmission Mode Enum
    description: Allowed microscopy transmission mode values
    deprecated: (2024 June) this is too specific, use MicroscopyModalitiesEnum instead
    deprecated_element_has_exact_replacement: MicroscopyModalitiesEnum
    permissible_values:
      DIC:
        description: Digital Image Correlation
      Brightfield:
        description: Brightfield imaging
      Phase Contrast:
        description: Phase contrast imaging
